#!/usr/bin/python3

import sys
from powered_g import *

commands_dict = {
    "all": giti_all,
    "makefile": giti_makefile,
    "coding_style": giti_coding_style,
    "ignore": giti_ignore,
    "delete": giti_del
}


def main():
    if len(sys.argv) < 2:
        print("GITI: No command given")
        exit()
    command = sys.argv[1]
    args = sys.argv[2:]
    if command in commands_dict:
        commands_dict[command](args[0] if len(args) > 0 else "")
    else:
        title = args[0] if args[0] != "-t" and args[0] != "-tc" and args[0] != "-ct" else ""
        comment = args[1] if args[1] != "-c" and args[1] != "-tc" and args[1] != "-ct" else ""
        files = args[2:] if args[0] != "-t" and args[0] != "-tc" and args[0] != "-ct" else args[1:]
        generic_giti(command, title, comment, files)


main()
